<div class="table-wrapper">
  <h2>Proposed changes</h2>
  <p>This is a list of all of the proposals in the system. If you want
    to vote on a proposal, (do it!) then click "Random Open Proposal"
    and we'll send you to one that you haven't voted on yet!</p>
  <button {{action "randomProposal"}} class="randomOpenProposal">Random Open Proposal</button>
  <div class="proposals">
    {{#each proposal in controller}}
      {{#link-to "proposal" proposal.id}}
        <div {{bind-attr class="proposal.state :item"}}>
          <div class="word">
            {{proposal.wordName}}
          </div>
          <div class="action-user">
            <div class="action">
              {{proposal.typeName}}
            </div>
            <div class="user">
              {{#if proposal.wordnet}}
                Wordnet
              {{else}}
                {{proposal.user.id}}
              {{/if}}
            </div>
          </div>
          <div class="state-progress">
            <div {{bind-attr class="proposal.state :state"}}>
              {{proposal.state}}
            </div>
            <div class="progress-bar">
              <div class="progress">
                <div class="bar negative" {{bind-attr style="proposal.negativeTally"}}></div>
                <div class="bar positive" {{bind-attr style="proposal.positiveTally"}}></div>
              </div>
            </div>
          </div>
        </div>
      {{/link-to}}
    {{/each}}
    <div class="pagination">
      {{#if hasPreviousPage}}
        {{link-to "Previous Page" "proposals" (query-params page=prevPage) class="prev"}}
      {{/if}}
      <div class="pageNumber">Page {{page}} out of {{totalPages}} pages</div>

      {{#if hasNextPage}}
        {{link-to "Next Page" "proposals" (query-params page=nextPage) class="next"}}
      {{/if}}
    </div>
  </div>
</div>
